Download ZIP (ou qualquer arquivo) a partir de Base64 via URLEste reposit√≥rio cont√©m uma √∫nica p√°gina HTML (index.html) projetada para uma finalidade espec√≠fica: receber uma string Base64 compactada via fragmento de URL, decodific√°-la, descompact√°-la e iniciar o download do arquivo correspondente no navegador do usu√°rio.üöÄ Motiva√ß√£oEm ambientes de software restritivos, como sistemas ERP (a exemplo do Sankhya), muitas vezes √© imposs√≠vel iniciar o download de arquivos gerados dinamicamente. As restri√ß√µes comuns incluem:Bloqueio de data: URLs.Higieniza√ß√£o de atributos HTML como onclick, removendo qualquer JavaScript.Bloqueio da execu√ß√£o de tags <script> injetadas dinamicamente.Limites de comprimento de URL (URI Too Long) que impedem a passagem de dados via par√¢metros de busca (?).Esta p√°gina serve como uma solu√ß√£o robusta para contornar todas essas limita√ß√µes. Ao externalizar a l√≥gica de download para uma p√°gina neutra (como o GitHub Pages), garantimos que o navegador possa executar a opera√ß√£o sem interfer√™ncia do sistema de origem.‚ú® Como UsarA p√°gina espera receber os dados do arquivo atrav√©s do fragmento da URL (a parte ap√≥s o #). Isso evita os limites de comprimento de uma URL padr√£o.A estrutura da URL deve ser a seguinte:https://<seu-usuario>.github.io/<seu-repositorio>/#cdata=<DADOS>&filename=<NOME_DO_ARQUIVO>
Onde:cdata: Cont√©m os dados do arquivo. Para garantir que a URL n√£o fique excessivamente longa, os dados devem ser primeiro compactados com GZIP e depois codificados em Base64.filename: O nome que o arquivo ter√° ao ser baixado. Por exemplo, meus_arquivos.zip.Exemplo de Gera√ß√£o (Java)// Supondo que 'fileBytes' √© um byte[] com o conte√∫do do seu arquivo
ByteArrayOutputStream compressedBaos = new ByteArrayOutputStream();
try (GZIPOutputStream gzipos = new GZIPOutputStream(compressedBaos)) {
    gzipos.write(fileBytes);
}
byte[] compressedBytes = compressedBaos.toByteArray();
String base64CompressedData = Base64.getEncoder().encodeToString(compressedBytes);

String filename = "meu_arquivo.zip";
String url = "[https://gui1949.github.io/DownloadZipFromBase64/#cdata=](https://gui1949.github.io/DownloadZipFromBase64/#cdata=)" + URLEncoder.encode(base64CompressedData, "UTF-8") + "&filename=" + filename;
üõ†Ô∏è Funcionamento T√©cnicoLeitura da URL: A p√°gina usa JavaScript para ler o conte√∫do do window.location.hash.Extra√ß√£o dos Par√¢metros: Os par√¢metros cdata e filename s√£o extra√≠dos da string.Decodifica√ß√£o: O conte√∫do de cdata √© primeiro decodificado de Base64 para um array de bytes.Descompress√£o: A biblioteca Pako.js √© usada para descompactar os dados (GZIP) e restaurar o conte√∫do original do arquivo.Cria√ß√£o do Blob: Um Blob (Binary Large Object) √© criado com os dados descompactados e o MIME type apropriado (ex: application/zip).In√≠cio do Download: Um link (<a>) √© criado dinamicamente em mem√≥ria, apontando para o Blob. O JavaScript simula um clique nesse link, o que inicia o download no navegador.Limpeza: A p√°gina se fecha automaticamente alguns segundos ap√≥s o in√≠cio do download para uma melhor experi√™ncia do usu√°rio.Este projeto √© um exemplo pr√°tico de como a combina√ß√£o de tecnologias web simples pode resolver problemas complexos em ambientes de software legados ou restritos.
